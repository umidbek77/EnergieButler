<div class="summary-card">
  <h2>Daten überprüfen</h2>

  <div class="summary-row">
    <div class="label">Gebäudeart</div>
    <div class="value">{{ structuredData.step1?.objectType }}</div>
  </div>

  <div class="summary-row">
    <div class="label">Jahresverbrauch</div>
    <div class="value">{{ structuredData.step1?.consumption }} kWh</div>
  </div>

  <div class="summary-row">
    <div class="label">Tarifart</div>
    <div class="value">{{ structuredData.step2?.tariffType }}</div>
  </div>

  <div class="summary-row">
    <div class="label">Anbieter</div>
    <div class="value">{{ structuredData.step2?.provider }}</div>
  </div>

  <div class="summary-row">
    <div class="label">Name</div>
    <div class="value">
      {{ structuredData.step3?.firstName }} {{ structuredData.step3?.lastName }}
    </div>
  </div>

  <div class="summary-row">
    <div class="label">Geburtsdatum</div>
    <div class="value">{{ structuredData.step3?.birthDate | date: 'dd.MM.yyyy' }}</div>
  </div>

  <div class="summary-row">
    <div class="label">Lieferanschrift</div>
    <div class="value">
      {{ structuredData.step4?.delivery?.street }} {{ structuredData.step4?.delivery?.houseNumber }}<br />
      {{ structuredData.step4?.delivery?.plz }} {{ structuredData.step4?.delivery?.city }}
    </div>
  </div>

  <div class="summary-row">
    <div class="label">Kundennummer</div>
    <div class="value">{{ structuredData.step5?.customerNumber }}</div>
  </div>

  <div class="summary-row">
    <div class="label">Zählernummer</div>
    <div class="value">{{ structuredData.step5?.meterNumber }}</div>
  </div>

  <div class="summary-row">
    <div class="label">IBAN</div>
    <div class="value">{{ structuredData.step6?.iban }}</div>
  </div>

<div class="signature-block">
  <div class="label">Hinterlegte Unterschrift</div>
  <img
    *ngIf="signatureUrl"
    [src]="signatureUrl"
    alt="Unterschrift"
    class="signature-preview"
  />
</div>

  <div class="btn-group">
    <button class="back-btn" (click)="onBack()">Zurück</button>
    <button class="confirm-btn" (click)="onConfirm()">Bestätigen</button>
  </div>
</div>

<p-toast
  [showTransitionOptions]="'250ms'"
  [showTransformOptions]="'translateX(100%)'"
  [hideTransitionOptions]="'150ms'"
  [hideTransformOptions]="'translateX(100%)'"
></p-toast>

<p-confirmDialog>
  <ng-template #message let-message>
    <div
      class="flex flex-col items-center w-full gap-4 border-b border-surface-200 dark:border-surface-700 pb-4"
    >
      <i
        [ngClass]="message.icon"
        class="!text-6xl text-primary-500"
      ></i>
      <p class="text-center whitespace-pre-line">{{ message.message }}</p>
    </div>
  </ng-template>
</p-confirmDialog>

